<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <title>ExtJS4</title>
  <link rel="stylesheet" href="extjs-4.2.1/resources/css/ext-all.css">
  <script type="text/javascript" src="extjs-4.2.1/ext-all.js"></script>
  <script type="text/javascript" src="extjs-4.2.1/locale/ext-lang-zh_TW.js"></script>
</head>
<body>
  <script type="text/javascript">
    Ext.onReady(function() {
      var tp=Ext.create("Ext.TabPanel",{
        title:"工作日誌系統",
        width:350,
        height:200,
        style:"margin:10px;",
        frame:true,
        defaults:{bodyPadding:10},
        buttons:[{text:"隱藏",handler:hideActive},
                 {text:"顯示",handler:showActive},
                 {text:"替換",handler:toggleState},
                 {text:"顯示全部",handler:showAll}],
        items:[
          {title:"首頁",html:"首頁"},
          {title:"差勤",html:"差勤"},
          {title:"管理",html:"管理"}
          ],
        renderTo:Ext.getBody()
        }); 
      function hideActive() {
        var activetab=tp.getActiveTab();
        activetab.tab.setVisible(false);
        activetab.setVisible(false);
        }
      function showActive() {
        var activetab=tp.getActiveTab();
        activetab.tab.setVisible(true);
        activetab.setVisible(true); //無效, why?
        }
      function toggleState() {
        for (var i=0; i<tp.items.length; i++) {
             var tab=tp.items.get(i);
             var tabbtn=tab.tab; //取得頁籤按鈕
             tab.setVisible(!tab.isVisible());
             tabbtn.setVisible(!tabbtn.isVisible());
             }
        }
      function showAll() {
        for (var i=0; i<tp.items.length; i++) {
             var tab=tp.items.get(i);
             var tabbtn=tab.tab;
             tabbtn.setVisible(true);
             tab.setVisible(true);
             }
        }
      });
  </script>
</body>
</html>